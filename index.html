<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MD MOVERS â€“ TRIP CALCULATOR</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 py-6 flex justify-center">

<div class="w-full max-w-4xl bg-white shadow-2xl rounded-2xl p-6">

<h1 class="text-2xl font-bold text-center mb-6">ðŸš› MD MOVERS â€“ TRIP CALCULATOR</h1>

<!-- =================== ROUTE SELECT =================== -->
<div class="grid grid-cols-2 gap-4">
<select id="from" class="border p-2 rounded"></select>
<select id="to" class="border p-2 rounded"></select>
</div>

<hr class="my-4">

<!-- AUTO VALUES (Editable) -->
<div class="grid grid-cols-3 gap-4 font-semibold text-center">
<div>
<label>Load KM</label>
<input id="loadKm" type="number" class="border p-2 text-center w-full rounded"/>
</div>
<div>
<label>Empty KM</label>
<input id="emptyKm" type="number" class="border p-2 text-center w-full rounded"/>
</div>
<div>
<label>Advance â‚¹</label>
<input id="adv" type="number" class="border p-2 text-center w-full rounded"/>
</div>
</div>

<hr class="my-4">

<!-- =================== INPUT =================== -->
<div class="grid grid-cols-2 gap-4">
<input id="qty" type="number" placeholder="Qty MT" class="p-2 border rounded"/>
<input id="rate" type="number" placeholder="Rate â‚¹/MT" class="p-2 border rounded"/>
<input id="comm" type="number" placeholder="Commission %" value="5" class="p-2 border rounded"/>
<input id="mamul" type="number" placeholder="Mamul â‚¹" value="300" class="p-2 border rounded"/>
<input id="over" type="number" placeholder="Overload â‚¹" value="0" class="p-2 border rounded"/>
<input id="toll" type="number" placeholder="Toll Tax â‚¹" value="0" class="p-2 border rounded"/>

<!-- ðŸ”¥ NEW DIESEL INPUT -->
<input id="dieselAvg" type="number" placeholder="Diesel Avg (km/L)" value="2.5" class="p-2 border rounded"/>
<input id="dieselRate" type="number" placeholder="Diesel Rate â‚¹/L" value="92" class="p-2 border rounded"/>
</div>

<button id="calculate" class="mt-5 w-full bg-black text-white p-3 rounded font-bold text-lg">CALCULATE</button>

<!-- =================== RESULT =================== -->
<div id="result" class="hidden mt-5 text-lg font-semibold">
<hr><br>
Freight: <span id="r_freight"></span><br>
Commission: <span id="r_comm"></span><br>
Mamul: <span id="r_mamul"></span><br>
Net Freight: <span id="r_net"></span><br><br>

<!-- ðŸ”¥ Diesel Summary -->
Diesel Usage + Cost: <span id="r_diesel"></span><br>

Trip Expense: <span id="r_exp"></span><br>
<span class="text-green-600 text-2xl">Savings: <span id="r_save"></span></span><br>
<hr>
</div>
</div>


<script>
// ======================================================
// ROUTE DATABASE
// ======================================================
const ROUTES = [
 {from:"Hazira",to:"Taloja",load:350,empty:100,adv:21000},
 {from:"Hazira",to:"Kalamboli",load:350,empty:100,adv:21000},
 {from:"Hazira",to:"Panvel",load:350,empty:100,adv:21000},
 {from:"Hazira",to:"Thane",load:350,empty:100,adv:21000},
 {from:"Hazira",to:"Khopoli",load:370,empty:50,adv:21400},
 {from:"Hazira",to:"Khalapur",load:370,empty:50,adv:21400},
 {from:"Hazira",to:"Ahemdabad",load:300,empty:0,adv:15080},
 {from:"Hazira",to:"Bavla",load:300,empty:0,adv:15080},
 {from:"Hazira",to:"Vatva",load:300,empty:0,adv:15080},
 {from:"Hazira",to:"Changodar",load:300,empty:0,adv:15080},
 {from:"Hazira",to:"Khatrej",load:330,empty:0,adv:16430},
 {from:"Hazira",to:"Sanand",load:330,empty:0,adv:16430},
 {from:"Hazira",to:"Kalol",load:330,empty:0,adv:16430},
 {from:"Hazira",to:"Chhatral",load:330,empty:0,adv:16430},
 {from:"Hazira",to:"Gandhinagar",load:330,empty:0,adv:16430},
 {from:"Hazira",to:"Mehsana",load:380,empty:0,adv:18500},
 {from:"Hazira",to:"Vithalapur",load:380,empty:0,adv:19400},
 {from:"Hazira",to:"Vadodara",load:210,empty:210,adv:15780},
 {from:"Hazira",to:"Savli",load:210,empty:210,adv:15780},
 {from:"Hazira",to:"Por",load:210,empty:210,adv:15780},
 {from:"Hazira",to:"Kheda",load:280,empty:0,adv:13770},
 {from:"Hazira",to:"Halol",load:230,empty:230,adv:16830},
 {from:"Hazira",to:"Vadindar",load:625,empty:0,adv:30300}
];

// populate dropdown
from.innerHTML=`<option>Select</option>`;
[...new Set(ROUTES.map(x=>x.from))].forEach(f=>from.innerHTML+=`<option>${f}</option>`);

from.onchange=()=>{
 to.innerHTML="<option>Select</option>";
 ROUTES.filter(r=>r.from==from.value).forEach(r=>to.innerHTML+=`<option>${r.to}</option>`)
}

to.onchange=()=>{
 let r=ROUTES.find(x=>x.from==from.value && x.to==to.value);
 if(!r)return;
 loadKm.value=r.load;
 emptyKm.value=r.empty;
 adv.value=r.adv;
}

// ======================================================
// ðŸ”¥ MAIN CALCULATION ENGINE
// ======================================================
calculate.onclick = ()=>{

 let qty=+qty.value, rate=+rate.value, comm=+comm.value, mam=+mamul.value,
     over=+over.value, toll=+toll.value, advv=+adv.value;

 // DIESEL ENGINE
 let avg=+dieselAvg.value, dieselRate=+dieselRate.value;
 let totalKm = (+loadKm.value)+(+emptyKm.value);
 let dieselLtr = totalKm/avg;
 let dieselCost = dieselLtr*dieselRate;

 // MAIN FREIGHT
 let freight = qty * rate;
 let commission = (freight*comm)/100;
 let net = freight - commission - mam;
 let expense = advv + over + toll + dieselCost;
 let saving  = net - expense;

 // OUTPUT
 r_freight.textContent="â‚¹ "+freight.toFixed(0);
 r_comm.textContent="â‚¹ "+commission.toFixed(0);
 r_mamul.textContent="â‚¹ "+mam;
 r_net.textContent="â‚¹ "+net.toFixed(0);
 r_exp.textContent="â‚¹ "+expense.toFixed(0);
 r_save.textContent="â‚¹ "+saving.toFixed(0);

 r_diesel.textContent = `${dieselLtr.toFixed(1)} Ltr â†’ â‚¹${dieselCost.toFixed(0)}`;

 result.classList.remove("hidden");
}
</script>

</body>
</html>
