<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trip Advance Calculator</title>

<style>
    body{font-family:Arial;background:#f2f4f7;margin:0;text-align:center;}
    .box{width:78%;background:#fff;margin:auto;padding:20px 20px;border-radius:10px;margin-top:18px;}
    input,select{width:95%;padding:10px;margin:6px;border-radius:5px;border:1px solid #bbb;}
    .row{display:flex;gap:15px;width:100%;justify-content:center}
    .row div{width:50%}
    button{width:100%;padding:13px;margin-top:8px;color:#fff;font-size:15px;border:none;border-radius:5px;cursor:pointer;}
    #result{background:#dff9d8;padding:20px;margin-top:15px;border-radius:10px;display:none;text-align:left;font-size:17px;}
    #wbtn{background:#006c2f;}  #calc{background:#000;}
    #pdf{background:#1e2a39;}
</style>
</head>

<body>

<img src="logo.png" width="120"><br>
<h2>TRIP CALCULATOR</h2>

<div class="box">

    <!-- From & To -->
    <div class="row">
        <div><label>FROM</label><select id="from"><option>Hazira</option></select></div>
        <div><label>TO</label><select id="to"><option>Taloja</option></select></div>
    </div>

    <!-- KM SECTION -->
    <div class="row">
        <div><label>UPWARD KM</label><input id="upkm"></div>
        <div><label>RETURN KM</label><input id="rtkm"></div>
    </div>

    <!-- Qty & Rate -->
    <div class="row">
        <div><label>LOAD QTY (MT)</label><input id="qty"></div>
        <div><label>RATE â‚¹/MT</label><input id="rate"></div>
    </div>

    <!-- Avg -->
    <div class="row">
        <div><label>Loaded Avg KM/L</label><input id="lavg"></div>
        <div><label>Empty Avg KM/L</label><input id="eavg"></div>
    </div>

    <!-- Diesel -->
    <div class="row">
        <div><label>Diesel Price â‚¹/L</label><input id="dprice"></div>
        <div><label>Commission â‚¹</label><input id="comm"></div>
    </div>

    <!-- Auto + Editable -->
    <div class="row">
        <div><label>Mamul â‚¹</label><input id="mamul"></div>
        <div><label>Other Expenses â‚¹</label><input id="oth"></div>
    </div><br>

    <!-- ACTION -->
    <button id="calc" onclick="calculate()">ðŸšš CALCULATE</button>
    <button id="wbtn">WhatsApp Share</button>
    <button id="pdf">Print / Save PDF</button>

    <!-- RESULT -->
    <div id="result"></div>
</div>

<script>
function calculate(){
    let up=+upkm.value, rt=+rtkm.value, qty=+qty.value, rate=+rate.value;
    let lavg=+lavg.value, eavg=+eavg.value, dp=+dprice.value;
    let mamul=+mamul.value, oth=+oth.value, comm=+comm.value;

    // DIESEL CALC
    let dieLoad=(up/lavg)*dp;
    let dieEmpty=(rt/eavg)*dp;
    let totalDiesel=dieLoad+dieEmpty;

    // FREIGHT
    let freight=qty*rate;
    let incentive=(freight*26.5)/100;  // adjustable later

    // ADVANCE
    let advance=dieLoad + comm + mamul;
    let finalPay = advance + dieEmpty + oth;
    let balance = freight - finalPay;

    result.style.display="block";
    result.innerHTML=
    `<b>Fuel Expense</b><br>
    Loaded Diesel: â‚¹${dieLoad.toFixed(0)}<br>
    Empty Diesel: â‚¹${dieEmpty.toFixed(0)}<br>
    Total Fuel Cost: <b>â‚¹${totalDiesel.toFixed(0)}</b><hr>

    <b>TRIP ADVANCE PAYOUT</b><br>
    Advance Release: <b>â‚¹${advance.toFixed(0)}</b><br>
    Pay On Return: â‚¹${dieEmpty.toFixed(0)} + Other â‚¹${oth}<br>
    Total Driver Payout: <b>â‚¹${finalPay.toFixed(0)}</b><hr>

    <b>Freight Summary</b><br>
    Freight Earned: â‚¹${freight}<br>
    Incentive: â‚¹${incentive.toFixed(0)}<br>
    Final Balance After Expenses: <b style="color:blue">â‚¹${balance.toFixed(0)}</b>`;
}
</script>
</body>
</html>
