<script>
const routes=[
 {from:"Hazira",to:"Kalamboli",load:350,empty:100,adv:21000},
 {from:"Hazira",to:"Bhiwandi",load:320,empty:120,adv:20500},
];

function loadFrom(){
 let s=document.getElementById("fromSelect");
 s.innerHTML="<option value=''>Select</option>";
 [...new Set(routes.map(x=>x.from))].forEach(f=>s.innerHTML+=`<option>${f}</option>`);
}

function loadTo(){
 let f=document.getElementById("fromSelect").value;
 let s=document.getElementById("toSelect");
 s.innerHTML="<option value=''>Select</option>";
 routes.filter(x=>x.from==f).forEach(r=>s.innerHTML+=`<option>${r.to}</option>`);
 updateInfo();
}

function updateInfo(){
 let f=fromSelect.value, t=toSelect.value;
 let r=routes.find(x=>x.from==f && x.to==t);
 document.getElementById("loadKm").innerText=r?r.load:"-";
 document.getElementById("emptyKm").innerText=r?r.empty:"-";
 document.getElementById("advAmt").innerText=r?("₹ "+r.adv):"-";
}

document.getElementById("calcBtn").onclick=()=>{
 let f=fromSelect.value,t=toSelect.value;
 let r=routes.find(x=>x.from==f && x.to==t);
 if(!r){alert("❗ Route not found");return;}

 let qty=+qtyInput.value,rate=+rate.value,comm=+comm.value,mamul=+mamul.value;
 let freight=qty*rate;
 let commRs=(freight*comm)/100;
 let net=freight-commRs-mamul;

 let exp=r.adv + (+overload.value) + (+toll.value);
 let save=net-exp;

 document.getElementById("freight").innerText="₹ "+freight.toFixed(0);
 document.getElementById("commRs").innerText="₹ "+commRs.toFixed(0);
 document.getElementById("mamulRs").innerText="₹ "+mamul;
 document.getElementById("net").innerText="₹ "+net.toFixed(0);

 document.getElementById("tripExp").innerText="₹ "+exp.toFixed(0);
 document.getElementById("save").innerText="₹ "+save.toFixed(0);
};

loadFrom();
fromSelect.onchange=loadTo;
toSelect.onchange=updateInfo;
</script>
